from sudoku_csp_solver import solve_sudoku

MAGIC_ORDERING = [22, 10, 72, 58, 14, 2, 18, 52, 6,
                  65, 38, 26, 41, 64, 30, 76, 34, 77,
                  1, 17, 51, 5, 55, 9, 45, 57, 13,
                  29, 75, 33, 61, 21, 37, 25, 66, 63,
                  8, 44, 56, 48, 80, 71, 50, 4, 54,
                  62, 24, 74, 12, 28, 16, 32, 60, 20,
                  36, 3, 40, 53, 68, 43, 69, 47, 79,
                  15, 73, 19, 81, 7, 23, 11, 27, 59,
                  42, 31, 46, 35, 70, 49, 39, 78, 67]

MAGIC_INVERSE = [0] * 81
for i, x in enumerate(MAGIC_ORDERING):
    MAGIC_INVERSE[x-1] = i+1

MAGIC2 = [17, 51, 74, 30, 58, 9, 43, 22, 56, 1, 35, 63, 14, 48, 71, 27, 6, 40, 68, 19, 53, 76, 32, 60, 11, 45, 24, 80,
          3, 37, 65, 16, 50, 73, 29, 8, 79, 42, 21, 55, 78, 34, 62, 13, 47, 70, 26, 5, 39, 67, 18, 52, 75, 31, 59, 10,
          44, 23, 57, 2, 36, 64, 15, 49, 72, 28, 7, 41, 81, 20, 54, 77, 33, 61, 12, 46, 69, 25, 4, 38, 66]

puzzle = '''
9 7 3 5 8 1 4 2 6
5 2 6 4 7 3 1 9 8
1 8 4 2 9 6 7 5 3
2 4 7 8 6 5 3 1 9
3 9 8 1 2 4 6 7 5
6 5 1 7 3 9 8 4 2
8 1 9 3 4 2 5 6 7
7 6 5 9 1 8 2 3 4
4 3 2 6 5 7 9 8 1
'''.split()
tmp = ['*'] * 81

for i, n in enumerate(MAGIC_INVERSE):
    print(i)
    tmp[n - 1] = puzzle[n - 1]
    print(''.join(tmp))
    solution = solve_sudoku(''.join(tmp))
    print(solution)
    print(''.join(puzzle))
    print('-' * 100)
    if solution == ''.join(puzzle):
        break
